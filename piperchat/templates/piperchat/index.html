{% extends 'piperuser/base.html' %}
{% block content %}
{% load static %}
{%if user.is_authenticated %}
	<div class="row">
		<div class="col-sm-6" style="margin: auto;">
			<h3 class="text-center alert alert-info">Chat Room</h3>
				<table class="table table-hover">
					<div class="card">
						What chat room would you like to enter?<br>
						<input id="room-name-input" type="text" size="100" style="width: 50%; margin: auto;"><br>
						<input id="room-name-submit" type="button" value="Enter" style="width: 25%; margin: auto;">
					</div>
				</table>
		</div>
	</div>
	<script>
		document.querySelector('#room-name-input').focus();
		document.querySelector('#room-name-input').onkeyup = function(e) {
			if (e.keyCode === 13) {  // enter, return
				document.querySelector('#room-name-submit').click();
			}
		};
	
		document.querySelector('#room-name-submit').onclick = function(e) {
			var roomName = document.querySelector('#room-name-input').value;
			window.location.pathname = '/chat/' + roomName + '/';
		};
	</script>
{% else %}
<div class="row">
	<div class="text-center col-sm-5 offset-3">
		<button type="submit" class="btn btn-info"><a href="{% url 'login' %}">Login</a></button>
	</div>
</div>
{% endif %}
{% endblock content %}
